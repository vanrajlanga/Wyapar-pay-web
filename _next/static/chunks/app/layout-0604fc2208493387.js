(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{9881:function(e,t,r){Promise.resolve().then(r.t.bind(r,3280,23)),Promise.resolve().then(r.t.bind(r,6966,23)),Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,9600)),Promise.resolve().then(r.bind(r,619)),Promise.resolve().then(r.bind(r,9765)),Promise.resolve().then(r.bind(r,9034)),Promise.resolve().then(r.bind(r,387))},9600:function(e,t,r){"use strict";r.d(t,{ErrorBoundary:function(){return i}});var n=r(7437),s=r(2265),a=r(9775),o=r(7903);class i extends s.Component{static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){o.k.error("Error boundary caught an error",e,{componentStack:t.componentStack})}render(){return this.state.hasError?this.props.fallback?this.props.fallback:(0,n.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 p-4",children:(0,n.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-8 text-center",children:[(0,n.jsx)("div",{className:"text-6xl mb-4",children:"⚠️"}),(0,n.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),(0,n.jsx)("p",{className:"text-gray-600 mb-6",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),this.state.error&&(0,n.jsxs)("details",{className:"mb-6 text-left",children:[(0,n.jsx)("summary",{className:"cursor-pointer text-sm text-gray-500 mb-2",children:"Error Details"}),(0,n.jsx)("pre",{className:"text-xs bg-gray-100 p-4 rounded overflow-auto",children:this.state.error.toString()})]}),(0,n.jsxs)("div",{className:"flex gap-4 justify-center",children:[(0,n.jsx)(a.zx,{onClick:this.handleReset,variant:"primary",children:"Try Again"}),(0,n.jsx)(a.zx,{onClick:()=>window.location.reload(),variant:"outline",children:"Refresh Page"})]})]})}):this.props.children}constructor(e){super(e),this.handleReset=()=>{this.setState({hasError:!1,error:void 0})},this.state={hasError:!1}}}},619:function(e,t,r){"use strict";r.d(t,{StructuredData:function(){return s}});var n=r(2265);function s(e){let{data:t}=e;return(0,n.useEffect)(()=>((Array.isArray(t)?t:[t]).forEach(e=>{let t=document.createElement("script");t.type="application/ld+json",t.text=JSON.stringify(e),t.id="structured-data-".concat(Date.now(),"-").concat(Math.random()),document.head.appendChild(t)}),()=>{document.querySelectorAll('script[type="application/ld+json"]').forEach(e=>{var t;(null===(t=e.id)||void 0===t?void 0:t.startsWith("structured-data-"))&&e.remove()})}),[t]),null}},9765:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return d},a:function(){return E}});var n=r(7437),s=r(2265),a=r(3976),o=r(7571),i=r(4569);class c{async register(e){return await o.E.post(a.Pn.AUTH.REGISTER,e)}async login(e){var t,r;let n=await o.E.post(a.Pn.AUTH.LOGIN,e);return(null===(t=n.tokens)||void 0===t?void 0:t.accessToken)&&(null===(r=n.tokens)||void 0===r?void 0:r.refreshToken)&&(i.t.saveTokens(n.tokens.accessToken,n.tokens.refreshToken),i.t.saveUser(n.user)),n}async requestOtp(e){return o.E.post(a.Pn.AUTH.REQUEST_OTP,e)}async loginWithOtp(e){var t,r;let n=await o.E.post(a.Pn.AUTH.OTP_LOGIN,e);return(null===(t=n.tokens)||void 0===t?void 0:t.accessToken)&&(null===(r=n.tokens)||void 0===r?void 0:r.refreshToken)&&(i.t.saveTokens(n.tokens.accessToken,n.tokens.refreshToken),i.t.saveUser(n.user)),n}async verifyEmail(e){return o.E.post(a.Pn.AUTH.VERIFY_EMAIL,{token:e})}async resendVerification(e){return o.E.post(a.Pn.AUTH.RESEND_VERIFICATION,{userId:e})}async logout(){try{await o.E.post(a.Pn.AUTH.LOGOUT,{})}finally{i.t.clearAuth()}}async refreshToken(){var e,t;let r=i.t.getRefreshToken();if(!r)throw Error("No refresh token available");let n=await o.E.post(a.Pn.AUTH.REFRESH_TOKEN,{refreshToken:r});return(null===(e=n.tokens)||void 0===e?void 0:e.accessToken)&&(null===(t=n.tokens)||void 0===t?void 0:t.refreshToken)&&i.t.saveTokens(n.tokens.accessToken,n.tokens.refreshToken),n}isAuthenticated(){return!!i.t.getAccessToken()}getCurrentUser(){return i.t.getUser()}}let l=new c;var u=r(7903);let h=(0,s.createContext)(void 0);function d(e){let{children:t}=e,[r,a]=(0,s.useState)(null),[o,c]=(0,s.useState)(!0);(0,s.useEffect)(()=>{(()=>{try{let e=i.t.getUser(),t=i.t.getAccessToken();e&&t&&a(e)}catch(e){u.k.error("Error initializing auth",e)}finally{c(!1)}})()},[]);let d=async e=>{try{let t=await l.login(e);a(t.user),u.k.info("Login successful")}catch(e){throw u.k.error("Login failed",e),e}},E=async e=>{try{await l.register(e),u.k.info("Registration successful")}catch(e){throw u.k.error("Registration failed",e),e}},f=async e=>{try{await l.requestOtp(e),u.k.info("OTP requested successfully")}catch(e){throw u.k.error("OTP request failed",e),e}},g=async e=>{try{let t=await l.loginWithOtp(e);a(t.user),u.k.info("OTP login successful")}catch(e){throw u.k.error("OTP login failed",e),e}},p=async e=>{try{await l.verifyEmail(e),u.k.info("Email verified successfully")}catch(e){throw u.k.error("Email verification failed",e),e}},m=async e=>{try{await l.resendVerification(e),u.k.info("Verification email resent")}catch(e){throw u.k.error("Resend verification failed",e),e}},y=async()=>{try{await l.logout(),a(null),u.k.info("Logout successful")}catch(e){u.k.error("Logout failed",e),a(null)}},R=async()=>{try{let e=i.t.getUser();a(e)}catch(e){u.k.error("Error refreshing user",e)}};return(0,n.jsx)(h.Provider,{value:{user:r,isAuthenticated:!!r,isLoading:o,login:d,register:E,requestOtp:f,loginWithOtp:g,verifyEmail:p,resendVerification:m,logout:y,refreshUser:R},children:t})}function E(){let e=(0,s.useContext)(h);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},9034:function(e,t,r){"use strict";r.d(t,{RechargeProvider:function(){return c},y:function(){return l}});var n=r(7437),s=r(2265),a=r(3113),o=r(7903);let i=(0,s.createContext)(void 0);function c(e){let{children:t}=e,[r,c]=(0,s.useState)(null),[l,u]=(0,s.useState)(null),[h,d]=(0,s.useState)(null),[E,f]=(0,s.useState)(""),[g,p]=(0,s.useState)(0),[m,y]=(0,s.useState)(!1),[R,A]=(0,s.useState)(null),[k,v]=(0,s.useState)(null),[P,S]=(0,s.useState)(null),T=async e=>{y(!0);try{let t=await a.F.detectOperator({mobileNumber:e});o.k.info("Operator detected",t),f(e)}catch(e){throw o.k.error("Error detecting operator",e),e}finally{y(!1)}},w=async e=>{y(!0);try{let t=await a.F.processMobileRecharge(e);return o.k.info("Recharge processed",t),t}catch(e){throw o.k.error("Error processing recharge",e),e}finally{y(!1)}};return(0,n.jsx)(i.Provider,{value:{selectedOperator:r,selectedCircle:l,selectedPlan:h,mobileNumber:E,amount:g,isLoading:m,operatorId:R,circleCode:k,circleName:P,setSelectedOperator:c,setSelectedCircle:u,setSelectedPlan:d,setMobileNumber:f,setAmount:p,setOperatorId:A,setCircleCode:v,setCircleName:S,detectOperator:T,processRecharge:w,resetRecharge:()=>{c(null),u(null),d(null),f(""),p(0),A(null),v(null),S(null)}},children:t})}function l(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useRecharge must be used within a RechargeProvider");return e}},387:function(e,t,r){"use strict";r.d(t,{UserProvider:function(){return u}});var n=r(7437),s=r(2265),a=r(7093),o=r(4569),i=r(7903);let c=(0,s.createContext)(void 0),l={language:"en",currency:"INR",notifications:{email:!0,push:!0,sms:!1},theme:"dark"};function u(e){let{children:t}=e,[r,u]=(0,s.useState)(null),[h,d]=(0,s.useState)(null),[E,f]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=o.t.getUser();e&&u(e)},[]);let g=async()=>{f(!0);try{let e=await a.W.getProfile();u(e),o.t.saveUser(e),i.k.info("User data loaded")}catch(e){throw i.k.error("Error loading user data",e),e}finally{f(!1)}},p=async()=>{f(!0);try{let e=await a.W.getPreferences();d(e),i.k.info("Preferences loaded")}catch(e){i.k.error("Error loading preferences",e),d(l)}finally{f(!1)}},m=async e=>{try{let t=await a.W.updateProfile(e);u(t),o.t.saveUser(t),i.k.info("Profile updated")}catch(e){throw i.k.error("Error updating profile",e),e}},y=async e=>{try{let t=await a.W.updatePreferences(e);d(t),i.k.info("Preferences updated")}catch(e){throw i.k.error("Error updating preferences",e),e}},R=async(e,t)=>{if(!h)return;let r={...h,[e]:t};try{await y(r)}catch(e){throw i.k.error("Error toggling preference",e),e}};return(0,n.jsx)(c.Provider,{value:{userData:r,preferences:h,isLoading:E,loadUserData:g,loadPreferences:p,updateProfile:m,updatePreferences:y,togglePreference:R},children:t})}},7571:function(e,t,r){"use strict";r.d(t,{E:function(){return c}});var n=r(3976),s=r(7903),a=r(4569);class o extends Error{constructor(e,t,r){super(e),this.statusCode=t,this.response=r,this.name="ApiError"}}class i{async request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new AbortController,i=setTimeout(()=>r.abort(),this.timeout),c="".concat(this.baseUrl).concat(e),l=a.t.getAccessToken();s.k.logApiCall(t.method||"GET",e,t.body?JSON.parse(t.body):void 0);try{let a=await fetch(c,{...t,signal:r.signal,headers:{"Content-Type":"application/json",...l?{Authorization:"Bearer ".concat(l)}:{},...t.headers}});clearTimeout(i);let u=await a.json();if(s.k.logApiResponse(e,a.status,u),!a.ok)throw new o(u.message||n.RZ.SOMETHING_WENT_WRONG,a.status,u);return u}catch(t){if(clearTimeout(i),t instanceof o)throw t;if(t instanceof Error&&"AbortError"===t.name)throw s.k.error("API request timeout",t,{endpoint:e}),new o("Request timeout. Please try again.");throw s.k.error("API network error",t,{endpoint:e}),new o(n.RZ.NETWORK_ERROR)}}async get(e,t){return this.request(e,{method:"GET",headers:t?{Authorization:"Bearer ".concat(t)}:{}})}async post(e,t,r){return this.request(e,{method:"POST",body:JSON.stringify(t),headers:r?{Authorization:"Bearer ".concat(r)}:{}})}async put(e,t,r){return this.request(e,{method:"PUT",body:JSON.stringify(t),headers:r?{Authorization:"Bearer ".concat(r)}:{}})}async delete(e,t){return this.request(e,{method:"DELETE",headers:t?{Authorization:"Bearer ".concat(t)}:{}})}async patch(e,t,r){return this.request(e,{method:"PATCH",body:JSON.stringify(t),headers:r?{Authorization:"Bearer ".concat(r)}:{}})}constructor(){this.baseUrl=n.Hz.BASE_URL,this.timeout=n.Hz.TIMEOUT}}let c=new i},3113:function(e,t,r){"use strict";r.d(t,{F:function(){return o}});var n=r(3976),s=r(7571);class a{async detectOperator(e){return s.E.post(n.Pn.RECHARGE.DETECT_OPERATOR,e)}async getOperators(){return s.E.get(n.Pn.RECHARGE.GET_OPERATORS)}async getCircles(e){return s.E.get(n.Pn.RECHARGE.GET_CIRCLES(e))}async getAllCircles(){return s.E.get(n.Pn.RECHARGE.GET_ALL_CIRCLES)}async fetchAndStoreCircles(){return s.E.post(n.Pn.RECHARGE.FETCH_AND_STORE_CIRCLES,{})}async getAllOperatorsFromDB(){return s.E.get(n.Pn.RECHARGE.GET_ALL_OPERATORS)}async fetchAndStoreOperators(){return s.E.post(n.Pn.RECHARGE.FETCH_AND_STORE_OPERATORS,{})}async getPlans(e){let t=new URLSearchParams;return t.append("operatorCode",e.operator),e.circleCode&&t.append("circleCode",e.circleCode),e.circle&&t.append("circleCode",e.circle),e.category&&t.append("category",e.category),e.operatorId&&t.append("operatorId",e.operatorId),s.E.get("".concat(n.Pn.RECHARGE.GET_PLANS,"?").concat(t.toString()))}async validateRecharge(e){return s.E.post(n.Pn.RECHARGE.VALIDATE,e)}async processMobileRecharge(e){return s.E.post(n.Pn.RECHARGE.PROCESS_MOBILE,e)}async getHistory(e){let t=e?new URLSearchParams(e).toString():"";return s.E.get("".concat(n.Pn.RECHARGE.GET_HISTORY).concat(t?"?".concat(t):""))}async getFavorites(){return s.E.get(n.Pn.RECHARGE.GET_FAVORITES)}async addFavorite(e){return s.E.post(n.Pn.RECHARGE.ADD_FAVORITE,e)}async removeFavorite(e){return s.E.delete(n.Pn.RECHARGE.REMOVE_FAVORITE(e))}async getKwikApiBalance(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return s.E.get("".concat(n.Pn.RECHARGE.KWIKAPI_BALANCE).concat(e?"?forceRefresh=true":""))}async processKwikApiRecharge(e){return s.E.post(n.Pn.RECHARGE.KWIKAPI_RECHARGE,{number:e.mobileNumber,amount:e.amount,opid:e.operatorId,state_code:0,order_id:e.orderId})}async checkKwikApiStatus(e){return s.E.get("".concat(n.Pn.RECHARGE.KWIKAPI_STATUS,"?orderId=").concat(e))}async completeRecharge(e){try{let t="".concat(Date.now()).concat(Math.floor(1e6*Math.random()).toString().padStart(6,"0")),r=await this.processKwikApiRecharge({mobileNumber:e.mobileNumber,amount:e.amount,operatorId:e.operatorId,orderId:t});console.log("KWIKAPI Recharge Response:",r),await this.sleep(5e3);for(let e=1;e<=3;e++){let r=await this.checkKwikApiStatus(t),n=r.response.status;if(console.log("Status Check Attempt ".concat(e,"/3:"),n),"SUCCESS"===n)return{success:!0,status:"SUCCESS",message:"Recharge successful!",data:r.response};if("FAILED"===n)return{success:!1,status:"FAILED",message:"Recharge failed",data:r.response};if("PENDING"===n){if(e<3)await this.sleep(3e4);else break}}return{success:!1,status:"TIMEOUT",message:"Status check timeout - please check later"}}catch(e){throw console.error("Complete recharge failed:",e),e}}sleep(e){return new Promise(t=>setTimeout(t,e))}}let o=new a},7093:function(e,t,r){"use strict";r.d(t,{W:function(){return o}});var n=r(3976),s=r(7571);class a{async getProfile(){return s.E.get(n.Pn.USER.PROFILE)}async updateProfile(e){return s.E.put(n.Pn.USER.PROFILE,e)}async getPreferences(){return s.E.get(n.Pn.USER.PREFERENCES)}async updatePreferences(e){return s.E.put(n.Pn.USER.PREFERENCES,e)}async uploadProfileImage(e){let t=new FormData;return t.append("image",e),s.E.post("".concat(n.Pn.USER.PROFILE,"/image"),t)}}let o=new a},7903:function(e,t,r){"use strict";r.d(t,{k:function(){return s}});class n{log(e,t,r){if(!this.isDevelopment&&"debug"===e)return;let n=new Date().toISOString(),s="[".concat(n,"] [").concat(e.toUpperCase(),"]");switch(e){case"info":console.log(s,t,r||"");break;case"warn":console.warn(s,t,r||"");break;case"error":console.error(s,t,r||"");break;case"debug":console.debug(s,t,r||"")}}info(e,t){this.log("info",e,t)}warn(e,t){this.log("warn",e,t)}error(e,t,r){this.log("error",e,{error:t,...r})}debug(e,t){this.log("debug",e,t)}logApiCall(e,t,r){this.debug("API ".concat(e," ").concat(t),r)}logApiResponse(e,t,r){this.debug("API Response ".concat(e),{status:t,data:r})}constructor(){this.isDevelopment=!1}}let s=new n},4569:function(e,t,r){"use strict";r.d(t,{t:function(){return a}});var n=r(3976);class s{setItem(e,t){if(this.isClient)try{let r=JSON.stringify(t);localStorage.setItem(e,r)}catch(e){}}getItem(e){if(!this.isClient)return null;try{let t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return null}}removeItem(e){if(this.isClient)try{localStorage.removeItem(e)}catch(e){}}clear(){if(this.isClient)try{localStorage.clear()}catch(e){}}saveTokens(e,t){this.setItem(n.I.ACCESS_TOKEN,e),this.setItem(n.I.REFRESH_TOKEN,t)}getAccessToken(){return this.getItem(n.I.ACCESS_TOKEN)}getRefreshToken(){return this.getItem(n.I.REFRESH_TOKEN)}clearTokens(){this.removeItem(n.I.ACCESS_TOKEN),this.removeItem(n.I.REFRESH_TOKEN)}saveUser(e){this.setItem(n.I.USER_DATA,e)}getUser(){return this.getItem(n.I.USER_DATA)}clearUser(){this.removeItem(n.I.USER_DATA)}clearAuth(){this.clearTokens(),this.clearUser()}constructor(){this.isClient=!0}}let a=new s},2778:function(){},3280:function(e){e.exports={style:{fontFamily:"'__Inter_f367f3', '__Inter_Fallback_f367f3', system-ui, arial",fontStyle:"normal"},className:"__className_f367f3",variable:"__variable_f367f3"}},6966:function(e){e.exports={style:{fontFamily:"'__Poppins_6bee3b', '__Poppins_Fallback_6bee3b', system-ui, arial",fontStyle:"normal"},className:"__className_6bee3b",variable:"__variable_6bee3b"}}},function(e){e.O(0,[366,51,38,659,971,117,744],function(){return e(e.s=9881)}),_N_E=e.O()}]);