(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{2787:function(e,s,t){Promise.resolve().then(t.bind(t,1380))},4766:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},7414:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]])},6840:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]])},2369:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});let a=(0,t(9205).Z)("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},1380:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return f}});var a=t(7437),n=t(2265),r=t(9376),i=t(9765),c=t(9775),l=t(350),o=t(8278),d=t(7448),x=t(3976),m=t(7093),u=t(4034),h=t(7903),g=t(2744);function f(){let e=(0,r.useRouter)(),{user:s,refreshUser:t}=(0,i.a)(),{isLoading:f}=(0,d.x)({redirectTo:x.Z6.LOGIN}),[p,j]=(0,n.useState)(null),[N,b]=(0,n.useState)(null),[y,v]=(0,n.useState)([]),[S,w]=(0,n.useState)(!0),[E,k]=(0,n.useState)(!1),[C,P]=(0,n.useState)("profile"),[z,A]=(0,n.useState)(""),[T,R]=(0,n.useState)(""),[I,L]=(0,n.useState)("");(0,n.useEffect)(()=>{f||M()},[f]);let M=async()=>{w(!0);try{let[e,s,t]=await Promise.all([m.W.getProfile(),m.W.getPreferences(),u.O.getRecentTransactions(5)]);j(e),b(s),v(t),A(e.name),R(e.email),L(e.phone)}catch(e){h.k.error("Failed to load profile data",e,{userId:null==s?void 0:s.id})}finally{w(!1)}},O=async()=>{if(p)try{let e=await m.W.updateProfile({name:z,email:T,phone:I});j(e),await t(),k(!1)}catch(e){h.k.error("Failed to update profile",e,{userId:null==p?void 0:p.id})}},Z=async e=>{if(N)try{let s=await m.W.updatePreferences({notifications:{...N.notifications,[e]:!N.notifications[e]}});b(s)}catch(s){h.k.error("Failed to update preferences",s,{userId:null==p?void 0:p.id,notificationType:e})}};return f||S?(0,a.jsx)(l.a,{message:"Loading your profile..."}):p?(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsx)(o.Header,{}),(0,a.jsx)("div",{className:"bg-white border-b",children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto px-4 py-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("button",{onClick:()=>e.push(x.Z6.DASHBOARD),className:"text-gray-600 hover:text-orange-600 transition-colors flex items-center gap-2",children:"← Back to Dashboard"}),(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Profile & Settings"}),(0,a.jsx)("div",{className:"w-32"})," "]})})}),(0,a.jsx)("main",{className:"max-w-7xl mx-auto px-4 py-8",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(c.Zb,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex flex-col items-center text-center",children:[(0,a.jsxs)("div",{className:"relative mb-4",children:[(0,a.jsx)("div",{className:"w-32 h-32 bg-gradient-to-br from-orange-500 to-red-600 rounded-full flex items-center justify-center text-white text-4xl font-bold",children:p.name.charAt(0).toUpperCase()}),(0,a.jsx)("button",{className:"absolute bottom-0 right-0 p-2 bg-orange-600 text-white rounded-full hover:bg-orange-700 transition-colors",children:(0,a.jsx)(g.gRS,{size:20})})]}),(0,a.jsx)("h2",{className:"text-xl font-bold text-text-primary mb-1",children:p.name}),(0,a.jsx)(c.Ct,{variant:"success",className:"mb-4",children:"approved"===p.kycStatus?"Premium":"Basic"}),(0,a.jsxs)("div",{className:"w-full space-y-3 mt-4",children:[(0,a.jsxs)("button",{onClick:()=>P("profile"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ".concat("profile"===C?"bg-gradient-to-r from-orange-500 to-red-600 text-white":"text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)(g.Vyx,{size:20}),(0,a.jsx)("span",{children:"Profile"})]}),(0,a.jsxs)("button",{onClick:()=>P("transactions"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ".concat("transactions"===C?"bg-gradient-to-r from-orange-500 to-red-600 text-white":"text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)(g.BMe,{size:20}),(0,a.jsx)("span",{children:"Transaction History"})]}),(0,a.jsxs)("button",{onClick:()=>P("payments"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ".concat("payments"===C?"bg-gradient-to-r from-orange-500 to-red-600 text-white":"text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)(g.EdE,{size:20}),(0,a.jsx)("span",{children:"Payment Methods"})]}),(0,a.jsxs)("button",{onClick:()=>P("notifications"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ".concat("notifications"===C?"bg-gradient-to-r from-orange-500 to-red-600 text-white":"text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)(g.YaO,{size:20}),(0,a.jsx)("span",{children:"Notifications"})]}),(0,a.jsxs)("button",{onClick:()=>P("security"),className:"w-full flex items-center gap-3 px-4 py-3 rounded-lg transition-colors ".concat("security"===C?"bg-gradient-to-r from-orange-500 to-red-600 text-white":"text-gray-700 hover:bg-gray-100"),children:[(0,a.jsx)(g.h9I,{size:20}),(0,a.jsx)("span",{children:"Security"})]})]})]})})}),(0,a.jsxs)("div",{className:"lg:col-span-3 space-y-6",children:["profile"===C&&(0,a.jsxs)(c.Zb,{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-text-primary",children:"Profile Information"}),E?(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(c.zx,{variant:"outline",size:"sm",onClick:()=>{k(!1),A(p.name),R(p.email),L(p.phone)},children:"Cancel"}),(0,a.jsx)(c.zx,{className:"bg-gradient-to-r from-orange-500 to-red-600 hover:from-orange-600 hover:to-red-700 text-white font-semibold",size:"sm",onClick:O,children:"Save Changes"})]}):(0,a.jsxs)(c.zx,{variant:"outline",size:"sm",onClick:()=>k(!0),children:[(0,a.jsx)(g.zmo,{className:"mr-2"}),"Edit Profile"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Full Name"}),E?(0,a.jsx)(c.II,{type:"text",value:z,onChange:e=>A(e)}):(0,a.jsx)("p",{className:"text-text-primary font-medium",children:p.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2 flex items-center gap-2",children:[(0,a.jsx)(g.ixJ,{size:16}),"Email Address"]}),E?(0,a.jsx)(c.II,{type:"email",value:T,onChange:e=>R(e)}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-text-primary font-medium",children:p.email}),p.isEmailVerified&&(0,a.jsx)(g.ZSR,{className:"text-accent-success",size:20})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"block text-sm font-medium text-text-secondary mb-2 flex items-center gap-2",children:[(0,a.jsx)(g.IXo,{size:16}),"Phone Number"]}),E?(0,a.jsx)(c.II,{type:"tel",value:I,onChange:e=>L(e)}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("p",{className:"text-text-primary font-medium",children:p.phone}),p.isPhoneVerified&&(0,a.jsx)(g.ZSR,{className:"text-accent-success",size:20})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Account Status"}),(0,a.jsx)(c.Ct,{variant:"active"===p.status?"success":"warning",children:p.status})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"KYC Status"}),(0,a.jsx)(c.Ct,{variant:"approved"===p.kycStatus?"success":"rejected"===p.kycStatus?"error":"warning",children:p.kycStatus})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Member Since"}),(0,a.jsx)("p",{className:"text-text-primary font-medium",children:new Date(p.createdAt).toLocaleDateString("en-US",{month:"long",year:"numeric"})})]})]})]}),"transactions"===C&&(0,a.jsxs)(c.Zb,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-text-primary mb-6",children:"Transaction History"}),y.length>0?(0,a.jsx)("div",{className:"space-y-3",children:y.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 bg-background rounded-lg hover:bg-background-hover transition-colors",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg",children:(0,a.jsx)(g.BMe,{size:24,className:"text-orange-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-text-primary",children:e.description}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:new Date(e.createdAt).toLocaleString()})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("p",{className:"font-bold text-text-primary text-lg",children:["₹",e.amount]}),(0,a.jsx)(c.Ct,{variant:"success"===e.status?"success":"failed"===e.status?"error":"warning",size:"sm",children:e.status})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(g.BMe,{size:64,className:"text-text-tertiary mx-auto mb-4"}),(0,a.jsx)("p",{className:"text-text-secondary",children:"No transactions yet"})]}),(0,a.jsx)("div",{className:"mt-6 text-center",children:(0,a.jsx)(c.zx,{variant:"outline",onClick:()=>e.push(x.Z6.TRANSACTIONS),children:"View All Transactions"})})]}),"payments"===C&&(0,a.jsxs)(c.Zb,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-text-primary mb-6",children:"Payment Methods"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg",children:(0,a.jsx)(g.EdE,{size:24,className:"text-orange-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-text-primary",children:"UPI"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Linked UPI accounts"})]})]}),(0,a.jsx)(c.zx,{variant:"outline",size:"sm",children:"Manage"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 bg-secondary/10 rounded-lg",children:(0,a.jsx)(g.EdE,{size:24,className:"text-secondary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-text-primary",children:"Debit/Credit Cards"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Saved cards"})]})]}),(0,a.jsx)(c.zx,{variant:"outline",size:"sm",children:"Add Card"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 bg-accent/10 rounded-lg",children:(0,a.jsx)(g.EdE,{size:24,className:"text-accent"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-text-primary",children:"Net Banking"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Linked bank accounts"})]})]}),(0,a.jsx)(c.zx,{variant:"outline",size:"sm",children:"Add Bank"})]})]})]}),"notifications"===C&&N&&(0,a.jsxs)(c.Zb,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-text-primary mb-6",children:"Notification Preferences"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(g.ixJ,{size:24,className:"text-orange-600"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-text-primary",children:"Email Notifications"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Receive updates via email"})]})]}),(0,a.jsx)("button",{onClick:()=>Z("email"),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(N.notifications.email?"bg-gradient-to-r from-orange-500 to-red-600":"bg-gray-300"),children:(0,a.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(N.notifications.email?"translate-x-6":"translate-x-1")})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(g.IXo,{size:24,className:"text-secondary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-text-primary",children:"SMS Notifications"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Receive updates via SMS"})]})]}),(0,a.jsx)("button",{onClick:()=>Z("sms"),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(N.notifications.sms?"bg-gradient-to-r from-orange-500 to-red-600":"bg-gray-300"),children:(0,a.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(N.notifications.sms?"translate-x-6":"translate-x-1")})})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(g.YaO,{size:24,className:"text-accent"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-text-primary",children:"Push Notifications"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Receive app notifications"})]})]}),(0,a.jsx)("button",{onClick:()=>Z("push"),className:"relative inline-flex h-6 w-11 items-center rounded-full transition-colors ".concat(N.notifications.push?"bg-gradient-to-r from-orange-500 to-red-600":"bg-gray-300"),children:(0,a.jsx)("span",{className:"inline-block h-4 w-4 transform rounded-full bg-white transition-transform ".concat(N.notifications.push?"translate-x-6":"translate-x-1")})})]})]})]}),"security"===C&&(0,a.jsxs)(c.Zb,{className:"p-6",children:[(0,a.jsx)("h3",{className:"text-2xl font-bold text-text-primary mb-6",children:"Security Settings"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 bg-orange-100 rounded-lg",children:(0,a.jsx)(g.izl,{size:24,className:"text-orange-600"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-text-primary",children:"Change Password"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Update your account password"})]})]}),(0,a.jsx)(c.zx,{variant:"outline",size:"sm",children:"Change"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"p-3 bg-secondary/10 rounded-lg",children:(0,a.jsx)(g.aIF,{size:24,className:"text-secondary"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-text-primary",children:"Two-Factor Authentication"}),(0,a.jsx)("p",{className:"text-sm text-text-secondary",children:"Add an extra layer of security"})]})]}),(0,a.jsx)(c.zx,{variant:"outline",size:"sm",children:"Enable"})]}),(0,a.jsx)("div",{className:"p-4 bg-background rounded-lg border-l-4 border-accent-success",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(g.ZSR,{className:"text-accent-success mt-1",size:20}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-semibold text-text-primary mb-1",children:"Your account is secure"}),(0,a.jsxs)("p",{className:"text-sm text-text-secondary",children:["Last login:"," ",p.lastLoginAt?new Date(p.lastLoginAt).toLocaleString():"Never"]})]})]})})]})]})]})]})})]}):(0,a.jsx)(l.a,{message:"Loading..."})}},350:function(e,s,t){"use strict";t.d(s,{a:function(){return r}});var a=t(7437);t(2265);var n=t(9775);function r(e){let{message:s="Loading...",size:t="xl"}=e;return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col items-center justify-center gap-4",children:[(0,a.jsx)(n.$j,{size:t}),s&&(0,a.jsx)("p",{className:"text-text-secondary animate-pulse",children:s})]})}},7448:function(e,s,t){"use strict";t.d(s,{x:function(){return i}});var a=t(2265),n=t(9376),r=t(9765);function i(){let{redirectTo:e,requireAuth:s=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,n.useRouter)(),{isAuthenticated:i,isLoading:c}=(0,r.a)();return(0,a.useEffect)(()=>{!c&&(s&&!i&&e&&t.push(e),!s&&i&&e&&t.push(e))},[i,c,s,e,t]),{isLoading:c,isAuthenticated:i}}},4034:function(e,s,t){"use strict";t.d(s,{O:function(){return i}});var a=t(3976),n=t(7571);class r{async getBalance(){return n.E.get(a.Pn.WALLET.BALANCE)}async getTransactions(e){let s=e?new URLSearchParams(e).toString():"";return n.E.get("".concat(a.Pn.TRANSACTIONS.GET_ALL).concat(s?"?".concat(s):""))}async getTransactionById(e){return n.E.get(a.Pn.TRANSACTIONS.GET_BY_ID(e))}async getTransactionSummary(){return n.E.get(a.Pn.TRANSACTIONS.GET_SUMMARY)}async getRecentTransactions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return n.E.get("".concat(a.Pn.TRANSACTIONS.GET_RECENT,"?limit=").concat(e))}async getTransactionsByCategory(e){return n.E.get(a.Pn.TRANSACTIONS.GET_BY_CATEGORY(e))}async searchTransactions(e){return n.E.post(a.Pn.TRANSACTIONS.SEARCH,{query:e})}async getTransactionStats(){return n.E.get(a.Pn.TRANSACTIONS.GET_STATS)}}let i=new r},7093:function(e,s,t){"use strict";t.d(s,{W:function(){return i}});var a=t(3976),n=t(7571);class r{async getProfile(){return n.E.get(a.Pn.USER.PROFILE)}async updateProfile(e){return n.E.put(a.Pn.USER.PROFILE,e)}async getPreferences(){return n.E.get(a.Pn.USER.PREFERENCES)}async updatePreferences(e){return n.E.put(a.Pn.USER.PREFERENCES,e)}async uploadProfileImage(e){let s=new FormData;return s.append("image",e),n.E.post("".concat(a.Pn.USER.PROFILE,"/image"),s)}}let i=new r}},function(e){e.O(0,[51,38,785,659,278,971,117,744],function(){return e(e.s=2787)}),_N_E=e.O()}]);